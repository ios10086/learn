

# 特殊性、继承、层叠

## 特殊性

特殊性值表述为4个部分，如：0，0，0，0。

一个选择器的具体特殊性如下确定：

- 对于选择器中给定的各个ID属性值，加0，1，0，0。
- 对于选择器中给定的各个类属性值、属性选择或伪类，加0，0，1，0。
- 对于选择器中给定的各个元素和伪元素，加0，0，0，1。
- 结合符和通配选择器对特殊性没有任何贡献。
- 内联声明的特殊性都是1，0，0，0。

## 重要性

有时某个声明可能非常重要，超过了所有其他声明，允许在这些声明的结束分号之前插入!important来标志。标志为!important的声明并没有特殊的特殊性值，所有!important声明会分组在一起，重要声明的特殊性冲突会在重要声明内部解决，而不会与非重要声明想混。所有非重要声明也归为一组，使用特殊性来解决冲突。如果一个重要声明和一个非重要声明冲突，胜出的总是重要声明。

## 继承

- 基于继承机制，样式不仅应用到指定的元素，还会应用到它的后代元素。
- 继承的值没有特殊性，甚至连0特殊性都没有。
- 大多数框模型属性不能继承。
- 子标签会继承父标签的（font-  text- line-以及color）样式

## 层叠

两个特殊性相等的两个规则应用到同一个元素，浏览器如何解决冲突？

- 找出所有相关的规则，这些规则都包含与一个给定元素匹配的选择器。
- 按显示权重对应用到该元素的所有声明排序。!important读者样式 > !important创作人员样式 > 创作人员样式 > 读者样式 > 用户代理默认样式。
- 按特殊性对应用到给定元素的所有声明排序。有较高特殊性的元素权重大于有较低特殊性的元素。
- 按出现顺序对应用到给定元素的所有声明排序。一个声明在样式表或文档中越后出现，它的权重就越大。如果样式表中有导入的样式表，一般认为出现在导入样式表中的声明在前，主样式表中的所有声明在后。